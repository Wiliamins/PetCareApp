"use strict";(self.webpackChunkpetcareapp_frontend=self.webpackChunkpetcareapp_frontend||[]).push([[34],{2391(){},3986(e,s,a){function i(e,s){if(null==e)return{};var a,i,l=function(e,s){if(null==e)return{};var a={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==s.indexOf(i))continue;a[i]=e[i]}return a}(e,s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],-1===s.indexOf(a)&&{}.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}a.d(s,{A:()=>i})},6257(e,s,a){a.d(s,{A:()=>n});var i=a(2555),l=a(3986),r=(a(5043),a(579));const c=["children","title","subtitle","icon","actions","variant","hoverable","clickable","onClick","className"];function t(e){let{children:s,title:a,subtitle:t,icon:n,actions:o,variant:d="default",hoverable:h=!1,clickable:m=!1,onClick:u,className:v=""}=e,x=(0,l.A)(e,c);const j=["card","card-".concat(d),h&&"card-hoverable",m&&"card-clickable",v].filter(Boolean).join(" "),p=m?"button":"div";return(0,r.jsxs)(p,(0,i.A)((0,i.A)({className:j,onClick:m?u:void 0},x),{},{children:[(a||n||o)&&(0,r.jsxs)("div",{className:"card-header",children:[(0,r.jsxs)("div",{className:"card-header-content",children:[n&&(0,r.jsx)("span",{className:"card-icon",children:n}),(0,r.jsxs)("div",{className:"card-titles",children:[a&&(0,r.jsx)("h3",{className:"card-title",children:a}),t&&(0,r.jsx)("p",{className:"card-subtitle",children:t})]})]}),o&&(0,r.jsx)("div",{className:"card-actions",children:o})]}),(0,r.jsx)("div",{className:"card-body",children:s})]}))}t.Footer=function(e){let{children:s,className:a=""}=e;return(0,r.jsx)("div",{className:"card-footer ".concat(a),children:s})};const n=t},6776(e,s,a){a.d(s,{A:()=>h});var i=a(5043),l=a(3216),r=a(5475),c=a(4117),t=a(5452),n=a(5114),o=a(477),d=a(579);const h=function(e){var s,a;let{children:h,menuItems:m,title:u,roleColor:v="var(--color-primary)"}=e;const{t:x}=(0,c.Bd)(),j=(0,l.Zp)(),{user:p,logout:N}=(0,t.As)(),{unreadCount:b}=(0,n.hN)(),{toggleLanguage:f,languageInfo:g}=(0,o.ok)(),[y,k]=(0,i.useState)(!0),[w,C]=(0,i.useState)(!1),A=async()=>{await N(),j("/login")};return(0,d.jsxs)("div",{className:"dashboard-layout ".concat(y?"":"sidebar-collapsed"),children:[(0,d.jsxs)("aside",{className:"dashboard-sidebar",style:{"--role-color":v},children:[(0,d.jsxs)("div",{className:"sidebar-header",children:[(0,d.jsxs)(r.N_,{to:"/",className:"sidebar-logo",children:[(0,d.jsx)("span",{className:"logo-icon",children:"\ud83d\udc3e"}),y&&(0,d.jsx)("span",{className:"logo-text",children:x("common.appName")})]}),(0,d.jsx)("button",{className:"sidebar-toggle",onClick:()=>k(!y),"aria-label":y?"Zwi\u0144 menu":"Rozwi\u0144 menu",children:(0,d.jsx)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y?(0,d.jsx)("polyline",{points:"11 17 6 12 11 7"}):(0,d.jsx)("polyline",{points:"9 17 14 12 9 7"})})})]}),(0,d.jsx)("nav",{className:"sidebar-nav",children:(0,d.jsx)("ul",{className:"nav-list",children:m.map((e,s)=>(0,d.jsx)("li",{className:"nav-item",children:(0,d.jsxs)(r.k2,{to:e.path,className:e=>{let{isActive:s}=e;return"nav-link ".concat(s?"active":"")},end:e.exact,children:[(0,d.jsx)("span",{className:"nav-icon",children:e.icon}),y&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"nav-label",children:e.label}),e.badge&&(0,d.jsx)("span",{className:"nav-badge",children:e.badge})]})]})},s))})}),(0,d.jsx)("div",{className:"sidebar-footer",children:(0,d.jsxs)("button",{className:"logout-btn",onClick:A,children:[(0,d.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,d.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,d.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,d.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),y&&(0,d.jsx)("span",{children:x("nav.logout")})]})})]}),(0,d.jsxs)("div",{className:"dashboard-main",children:[(0,d.jsxs)("header",{className:"dashboard-header",children:[(0,d.jsxs)("div",{className:"header-left",children:[(0,d.jsx)("button",{className:"mobile-menu-btn",onClick:()=>k(!y),children:(0,d.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,d.jsx)("line",{x1:"3",y1:"12",x2:"21",y2:"12"}),(0,d.jsx)("line",{x1:"3",y1:"6",x2:"21",y2:"6"}),(0,d.jsx)("line",{x1:"3",y1:"18",x2:"21",y2:"18"})]})}),(0,d.jsx)("h1",{className:"header-title",children:u})]}),(0,d.jsxs)("div",{className:"header-right",children:[(0,d.jsx)("button",{className:"header-btn lang-btn",onClick:f,"aria-label":"Zmie\u0144 j\u0119zyk",children:g.flag}),(0,d.jsxs)("button",{className:"header-btn notification-btn",children:[(0,d.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,d.jsx)("path",{d:"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"}),(0,d.jsx)("path",{d:"M13.73 21a2 2 0 0 1-3.46 0"})]}),b>0&&(0,d.jsx)("span",{className:"notification-badge",children:b})]}),(0,d.jsxs)("div",{className:"user-menu-container",children:[(0,d.jsxs)("button",{className:"user-menu-trigger",onClick:()=>C(!w),children:[(0,d.jsxs)("div",{className:"user-avatar",children:[null===p||void 0===p||null===(s=p.firstName)||void 0===s?void 0:s[0],null===p||void 0===p||null===(a=p.lastName)||void 0===a?void 0:a[0]]}),(0,d.jsxs)("div",{className:"user-info",children:[(0,d.jsxs)("span",{className:"user-name",children:[null===p||void 0===p?void 0:p.firstName," ",null===p||void 0===p?void 0:p.lastName]}),(0,d.jsx)("span",{className:"user-role",children:x("auth.login.roles.".concat(null===p||void 0===p?void 0:p.role))})]}),(0,d.jsx)("svg",{className:"user-arrow",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:(0,d.jsx)("polyline",{points:"6 9 12 15 18 9"})})]}),w&&(0,d.jsxs)("div",{className:"user-menu-dropdown",children:[(0,d.jsxs)("button",{className:"dropdown-item",children:[(0,d.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,d.jsx)("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),(0,d.jsx)("circle",{cx:"12",cy:"7",r:"4"})]}),"M\xf3j profil"]}),(0,d.jsxs)("button",{className:"dropdown-item",children:[(0,d.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,d.jsx)("circle",{cx:"12",cy:"12",r:"3"}),(0,d.jsx)("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"})]}),"Ustawienia"]}),(0,d.jsx)("div",{className:"dropdown-divider"}),(0,d.jsxs)("button",{className:"dropdown-item logout",onClick:A,children:[(0,d.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[(0,d.jsx)("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),(0,d.jsx)("polyline",{points:"16 17 21 12 16 7"}),(0,d.jsx)("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]}),x("nav.logout")]})]})]})]})]}),(0,d.jsx)("main",{className:"dashboard-content",children:h})]}),y&&(0,d.jsx)("div",{className:"sidebar-overlay",onClick:()=>k(!1)})]})}},7034(e,s,a){a.r(s),a.d(s,{default:()=>d});var i=a(2555),l=a(5043),r=a(4117),c=a(6776),t=a(6257),n=a(6481),o=(a(2391),a(579));const d=()=>{var e,s,a,d,h,m,u,v,x,j,p,N,b,f,g,y,k,w,C,A,S;const{t:z}=(0,r.Bd)(),[O,M]=(0,l.useState)(!0),[P,B]=(0,l.useState)([]),[_,W]=(0,l.useState)(null),[E,T]=(0,l.useState)(!0),[F,I]=(0,l.useState)(null),R={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"",H=[{name:"auth-service",port:8001,description:"Autoryzacja i tokeny JWT"},{name:"user-service",port:8002,description:"Zarz\u0105dzanie u\u017cytkownikami"},{name:"pet-service",port:8012,description:"Profile zwierz\u0105t"},{name:"medical-service",port:8003,description:"Dokumentacja medyczna"},{name:"appointment-service",port:8004,description:"Rezerwacja wizyt"},{name:"payment-service",port:8006,description:"P\u0142atno\u015bci Stripe"},{name:"report-service",port:8007,description:"Generowanie raport\xf3w"},{name:"analytics-service",port:8008,description:"Metryki systemowe"},{name:"audit-service",port:8009,description:"Logi audytu"},{name:"drug-info-service",port:8013,description:"Baza lek\xf3w"},{name:"disease-alert-service",port:8011,description:"Alerty epidemiologiczne"},{name:"notification-service",port:8005,description:"Powiadomienia email/push"},{name:"drug-service",port:8010,description:"Recepty"}],L=(0,l.useCallback)(async()=>{try{const e=await fetch("".concat(R,"/api/v1/system/services"));if(e.ok){const s=await e.json();B(s.services||H.map(e=>(0,i.A)((0,i.A)({},e),{},{status:"healthy"})))}else B(H.map(e=>(0,i.A)((0,i.A)({},e),{},{status:Math.random()>.1?"healthy":"unhealthy"})));I(new Date)}catch(e){console.error("Error fetching services:",e),B(H.map(e=>(0,i.A)((0,i.A)({},e),{},{status:"healthy"})))}},[R]),D=(0,l.useCallback)(async()=>{try{const e=await fetch("".concat(R,"/api/v1/system/metrics"));if(e.ok){const s=await e.json();W(s)}else W({cpu:{usage:23.5,cores:2},memory:{used:1.8,total:4,percent:45},disk:{used:12.5,total:30,percent:42},uptime:864e3})}catch(e){console.error("Error fetching metrics:",e),W({cpu:{usage:23.5,cores:2},memory:{used:1.8,total:4,percent:45},disk:{used:12.5,total:30,percent:42},uptime:864e3})}},[R]);(0,l.useEffect)(()=>{let e;return(async()=>{M(!0),await Promise.all([L(),D()]),M(!1)})(),E&&(e=setInterval(()=>{L(),D()},3e4)),()=>{e&&clearInterval(e)}},[E,L,D]);const U=e=>{let{status:s}=e;const a={healthy:{bg:"#d1fae5",color:"#059669",text:"Healthy"},unhealthy:{bg:"#fef3c7",color:"#d97706",text:"Unhealthy"},offline:{bg:"#fee2e2",color:"#dc2626",text:"Offline"}},i=a[s]||a.offline;return(0,o.jsx)("span",{style:{padding:"4px 12px",borderRadius:"9999px",fontSize:"12px",fontWeight:"600",backgroundColor:i.bg,color:i.color},children:i.text})},V=[{path:"/dashboard/it",label:z("dashboard"),icon:"\ud83d\udcca"},{path:"/dashboard/it/monitoring",label:"Monitoring",icon:"\ud83d\udce1"},{path:"/dashboard/it/logs",label:"Logi",icon:"\ud83d\udccb"},{path:"/dashboard/it/infrastructure",label:z("infrastructure"),icon:"\ud83d\udda5\ufe0f"},{path:"/dashboard/it/security",label:z("security"),icon:"\ud83d\udd12"}];if(O)return(0,o.jsx)(c.A,{title:"IT Monitoring",menuItems:V,children:(0,o.jsx)(n.A,{})});const Z=P.filter(e=>"healthy"===e.status).length,G=P.length;return(0,o.jsx)(c.A,{title:"IT Monitoring",menuItems:V,children:(0,o.jsxs)("div",{className:"it-monitoring",children:[(0,o.jsxs)("div",{className:"monitoring-header",children:[(0,o.jsxs)("div",{className:"monitoring-status-summary",children:[(0,o.jsx)("span",{className:"status-icon",children:Z===G?"\u2705":Z>G/2?"\u26a0\ufe0f":"\u274c"}),(0,o.jsxs)("span",{children:[Z,"/",G," serwis\xf3w dzia\u0142a poprawnie"]})]}),(0,o.jsxs)("div",{className:"monitoring-controls",children:[(0,o.jsxs)("label",{className:"auto-refresh-toggle",children:[(0,o.jsx)("input",{type:"checkbox",checked:E,onChange:e=>T(e.target.checked)}),"Auto-refresh (30s)"]}),(0,o.jsx)("button",{className:"refresh-btn",onClick:()=>{L(),D()},children:"\ud83d\udd04 Od\u015bwie\u017c"})]})]}),F&&(0,o.jsxs)("p",{className:"last-update",children:["Ostatnia aktualizacja: ",F.toLocaleTimeString("pl-PL")]}),_&&(0,o.jsxs)("div",{className:"metrics-grid",children:[(0,o.jsxs)(t.A,{className:"metric-card",children:[(0,o.jsx)("div",{className:"metric-icon",children:"\ud83d\udcbb"}),(0,o.jsxs)("div",{className:"metric-info",children:[(0,o.jsx)("div",{className:"metric-label",children:"CPU"}),(0,o.jsxs)("div",{className:"metric-value",children:[null===(e=_.cpu)||void 0===e||null===(s=e.usage)||void 0===s?void 0:s.toFixed(1),"%"]}),(0,o.jsxs)("div",{className:"metric-detail",children:[null===(a=_.cpu)||void 0===a?void 0:a.cores," rdzeni"]})]}),(0,o.jsx)("div",{className:"metric-bar",children:(0,o.jsx)("div",{className:"metric-bar-fill",style:{width:"".concat((null===(d=_.cpu)||void 0===d?void 0:d.usage)||0,"%"),backgroundColor:(null===(h=_.cpu)||void 0===h?void 0:h.usage)>80?"#dc2626":"#2563eb"}})})]}),(0,o.jsxs)(t.A,{className:"metric-card",children:[(0,o.jsx)("div",{className:"metric-icon",children:"\ud83e\udde0"}),(0,o.jsxs)("div",{className:"metric-info",children:[(0,o.jsx)("div",{className:"metric-label",children:"RAM"}),(0,o.jsxs)("div",{className:"metric-value",children:[null===(m=_.memory)||void 0===m||null===(u=m.percent)||void 0===u?void 0:u.toFixed(1),"%"]}),(0,o.jsxs)("div",{className:"metric-detail",children:[null===(v=_.memory)||void 0===v||null===(x=v.used)||void 0===x?void 0:x.toFixed(1)," / ",null===(j=_.memory)||void 0===j||null===(p=j.total)||void 0===p?void 0:p.toFixed(1)," GB"]})]}),(0,o.jsx)("div",{className:"metric-bar",children:(0,o.jsx)("div",{className:"metric-bar-fill",style:{width:"".concat((null===(N=_.memory)||void 0===N?void 0:N.percent)||0,"%"),backgroundColor:(null===(b=_.memory)||void 0===b?void 0:b.percent)>80?"#dc2626":"#059669"}})})]}),(0,o.jsxs)(t.A,{className:"metric-card",children:[(0,o.jsx)("div",{className:"metric-icon",children:"\ud83d\udcbe"}),(0,o.jsxs)("div",{className:"metric-info",children:[(0,o.jsx)("div",{className:"metric-label",children:"Dysk"}),(0,o.jsxs)("div",{className:"metric-value",children:[null===(f=_.disk)||void 0===f||null===(g=f.percent)||void 0===g?void 0:g.toFixed(1),"%"]}),(0,o.jsxs)("div",{className:"metric-detail",children:[null===(y=_.disk)||void 0===y||null===(k=y.used)||void 0===k?void 0:k.toFixed(1)," / ",null===(w=_.disk)||void 0===w||null===(C=w.total)||void 0===C?void 0:C.toFixed(1)," GB"]})]}),(0,o.jsx)("div",{className:"metric-bar",children:(0,o.jsx)("div",{className:"metric-bar-fill",style:{width:"".concat((null===(A=_.disk)||void 0===A?void 0:A.percent)||0,"%"),backgroundColor:(null===(S=_.disk)||void 0===S?void 0:S.percent)>80?"#dc2626":"#f59e0b"}})})]}),(0,o.jsxs)(t.A,{className:"metric-card",children:[(0,o.jsx)("div",{className:"metric-icon",children:"\u23f1\ufe0f"}),(0,o.jsxs)("div",{className:"metric-info",children:[(0,o.jsx)("div",{className:"metric-label",children:"Uptime"}),(0,o.jsx)("div",{className:"metric-value",children:(e=>{const s=Math.floor(e/86400),a=Math.floor(e%86400/3600),i=Math.floor(e%3600/60);return"".concat(s,"d ").concat(a,"h ").concat(i,"m")})(_.uptime||0)})]})]})]}),(0,o.jsxs)(t.A,{className:"services-card",children:[(0,o.jsx)("h3",{children:"Status mikroserwis\xf3w"}),(0,o.jsx)("div",{className:"services-table",children:(0,o.jsxs)("table",{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Serwis"}),(0,o.jsx)("th",{children:"Port"}),(0,o.jsx)("th",{children:"Opis"}),(0,o.jsx)("th",{children:"Status"})]})}),(0,o.jsx)("tbody",{children:P.map(e=>(0,o.jsxs)("tr",{className:"status-".concat(e.status),children:[(0,o.jsx)("td",{className:"service-name",children:e.name}),(0,o.jsx)("td",{className:"service-port",children:e.port}),(0,o.jsx)("td",{className:"service-desc",children:e.description}),(0,o.jsx)("td",{children:(0,o.jsx)(U,{status:e.status})})]},e.name))})]})})]})]})})}}}]);
//# sourceMappingURL=34.60820f96.chunk.js.map