{"ast":null,"code":"/**\n * PetCareApp - Serwis autoryzacji\n * Obsługa logowania, rejestracji, tokenów\n * @author VS\n */\n\nimport { authApi } from './api';\n\n/**\n * Serwis autoryzacji - komunikacja z Authentication Service\n */\nexport const authService = {\n  /**\n   * Logowanie użytkownika\n   * @param {string} email - Adres email\n   * @param {string} password - Hasło\n   * @param {string} role - Rola użytkownika\n   * @returns {Promise<Object>} Dane użytkownika i tokeny\n   */\n  async login(email, password, role) {\n    const response = await authApi.post('/auth/login', {\n      email,\n      password,\n      role\n    });\n    return response.data;\n  },\n  /**\n   * Rejestracja nowego użytkownika (tylko klient)\n   * @param {Object} userData - Dane rejestracyjne\n   * @returns {Promise<Object>} Potwierdzenie rejestracji\n   */\n  async register(userData) {\n    const response = await authApi.post('/auth/register', userData);\n    return response.data;\n  },\n  /**\n   * Wylogowanie użytkownika\n   * @returns {Promise<void>}\n   */\n  async logout() {\n    const refreshToken = localStorage.getItem('refreshToken');\n    await authApi.post('/auth/logout', {\n      refreshToken\n    });\n  },\n  /**\n   * Weryfikacja tokena i pobranie danych użytkownika\n   * @param {string} token - Access token\n   * @returns {Promise<Object>} Dane użytkownika\n   */\n  async verifyToken(token) {\n    const response = await authApi.get('/auth/verify', {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    return response.data.user;\n  },\n  /**\n   * Odświeżenie tokena\n   * @param {string} refreshToken - Refresh token\n   * @returns {Promise<Object>} Nowy access token\n   */\n  async refreshToken(refreshToken) {\n    const response = await authApi.post('/auth/refresh', {\n      refreshToken\n    });\n    return response.data;\n  },\n  /**\n   * Żądanie resetowania hasła\n   * @param {string} email - Adres email\n   * @returns {Promise<void>}\n   */\n  async resetPassword(email) {\n    await authApi.post('/auth/reset-password', {\n      email\n    });\n  },\n  /**\n   * Ustawienie nowego hasła\n   * @param {string} token - Token resetowania\n   * @param {string} newPassword - Nowe hasło\n   * @returns {Promise<void>}\n   */\n  async setNewPassword(token, newPassword) {\n    await authApi.post('/auth/set-password', {\n      token,\n      newPassword\n    });\n  },\n  /**\n   * Zmiana hasła zalogowanego użytkownika\n   * @param {string} currentPassword - Aktualne hasło\n   * @param {string} newPassword - Nowe hasło\n   * @returns {Promise<void>}\n   */\n  async changePassword(currentPassword, newPassword) {\n    await authApi.post('/auth/change-password', {\n      currentPassword,\n      newPassword\n    });\n  },\n  /**\n   * Aktualizacja profilu użytkownika\n   * @param {Object} updates - Dane do aktualizacji\n   * @returns {Promise<Object>} Zaktualizowane dane\n   */\n  async updateProfile(updates) {\n    const response = await authApi.put('/auth/profile', updates);\n    return response.data;\n  },\n  /**\n   * Potwierdzenie adresu email\n   * @param {string} token - Token potwierdzający\n   * @returns {Promise<void>}\n   */\n  async confirmEmail(token) {\n    await authApi.post('/auth/confirm-email', {\n      token\n    });\n  },\n  /**\n   * Ponowne wysłanie emaila potwierdzającego\n   * @param {string} email - Adres email\n   * @returns {Promise<void>}\n   */\n  async resendConfirmation(email) {\n    await authApi.post('/auth/resend-confirmation', {\n      email\n    });\n  }\n};\nexport default authService;","map":{"version":3,"names":["authApi","authService","login","email","password","role","response","post","data","register","userData","logout","refreshToken","localStorage","getItem","verifyToken","token","get","headers","Authorization","user","resetPassword","setNewPassword","newPassword","changePassword","currentPassword","updateProfile","updates","put","confirmEmail","resendConfirmation"],"sources":["C:/Users/Viliam/Desktop/petcareapp-final/petcareapp/frontend/src/services/authService.js"],"sourcesContent":["/**\n * PetCareApp - Serwis autoryzacji\n * Obsługa logowania, rejestracji, tokenów\n * @author VS\n */\n\nimport { authApi } from './api';\n\n/**\n * Serwis autoryzacji - komunikacja z Authentication Service\n */\nexport const authService = {\n    /**\n     * Logowanie użytkownika\n     * @param {string} email - Adres email\n     * @param {string} password - Hasło\n     * @param {string} role - Rola użytkownika\n     * @returns {Promise<Object>} Dane użytkownika i tokeny\n     */\n    async login(email, password, role) {\n        const response = await authApi.post('/auth/login', {\n            email,\n            password,\n            role\n        });\n        return response.data;\n    },\n\n    /**\n     * Rejestracja nowego użytkownika (tylko klient)\n     * @param {Object} userData - Dane rejestracyjne\n     * @returns {Promise<Object>} Potwierdzenie rejestracji\n     */\n    async register(userData) {\n        const response = await authApi.post('/auth/register', userData);\n        return response.data;\n    },\n\n    /**\n     * Wylogowanie użytkownika\n     * @returns {Promise<void>}\n     */\n    async logout() {\n        const refreshToken = localStorage.getItem('refreshToken');\n        await authApi.post('/auth/logout', { refreshToken });\n    },\n\n    /**\n     * Weryfikacja tokena i pobranie danych użytkownika\n     * @param {string} token - Access token\n     * @returns {Promise<Object>} Dane użytkownika\n     */\n    async verifyToken(token) {\n        const response = await authApi.get('/auth/verify', {\n            headers: { Authorization: `Bearer ${token}` }\n        });\n        return response.data.user;\n    },\n\n    /**\n     * Odświeżenie tokena\n     * @param {string} refreshToken - Refresh token\n     * @returns {Promise<Object>} Nowy access token\n     */\n    async refreshToken(refreshToken) {\n        const response = await authApi.post('/auth/refresh', { refreshToken });\n        return response.data;\n    },\n\n    /**\n     * Żądanie resetowania hasła\n     * @param {string} email - Adres email\n     * @returns {Promise<void>}\n     */\n    async resetPassword(email) {\n        await authApi.post('/auth/reset-password', { email });\n    },\n\n    /**\n     * Ustawienie nowego hasła\n     * @param {string} token - Token resetowania\n     * @param {string} newPassword - Nowe hasło\n     * @returns {Promise<void>}\n     */\n    async setNewPassword(token, newPassword) {\n        await authApi.post('/auth/set-password', { token, newPassword });\n    },\n\n    /**\n     * Zmiana hasła zalogowanego użytkownika\n     * @param {string} currentPassword - Aktualne hasło\n     * @param {string} newPassword - Nowe hasło\n     * @returns {Promise<void>}\n     */\n    async changePassword(currentPassword, newPassword) {\n        await authApi.post('/auth/change-password', {\n            currentPassword,\n            newPassword\n        });\n    },\n\n    /**\n     * Aktualizacja profilu użytkownika\n     * @param {Object} updates - Dane do aktualizacji\n     * @returns {Promise<Object>} Zaktualizowane dane\n     */\n    async updateProfile(updates) {\n        const response = await authApi.put('/auth/profile', updates);\n        return response.data;\n    },\n\n    /**\n     * Potwierdzenie adresu email\n     * @param {string} token - Token potwierdzający\n     * @returns {Promise<void>}\n     */\n    async confirmEmail(token) {\n        await authApi.post('/auth/confirm-email', { token });\n    },\n\n    /**\n     * Ponowne wysłanie emaila potwierdzającego\n     * @param {string} email - Adres email\n     * @returns {Promise<void>}\n     */\n    async resendConfirmation(email) {\n        await authApi.post('/auth/resend-confirmation', { email });\n    }\n};\n\nexport default authService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}