{"ast":null,"code":"/**\n * PetCareApp - Serwis autoryzacji\n * Obsługa logowania, rejestracji, tokenów\n * @author VS\n */import{authApi}from'./api';/**\n * Serwis autoryzacji - komunikacja z Authentication Service\n */export const authService={/**\n     * Logowanie użytkownika\n     * @param {string} email - Adres email\n     * @param {string} password - Hasło\n     * @param {string} role - Rola użytkownika\n     * @returns {Promise<Object>} Dane użytkownika i tokeny\n     */async login(email,password,role){const response=await authApi.post('/auth/login',{email,password,role});return response.data;},/**\n     * Rejestracja nowego użytkownika (tylko klient)\n     * @param {Object} userData - Dane rejestracyjne\n     * @returns {Promise<Object>} Potwierdzenie rejestracji\n     */async register(userData){const response=await authApi.post('/auth/register',userData);return response.data;},/**\n     * Wylogowanie użytkownika\n     * @returns {Promise<void>}\n     */async logout(){const refreshToken=localStorage.getItem('refreshToken');await authApi.post('/auth/logout',{refreshToken});},/**\n     * Weryfikacja tokena i pobranie danych użytkownika\n     * @param {string} token - Access token\n     * @returns {Promise<Object>} Dane użytkownika\n     */async verifyToken(token){const response=await authApi.get('/auth/verify',{headers:{Authorization:\"Bearer \".concat(token)}});return response.data.user;},/**\n     * Odświeżenie tokena\n     * @param {string} refreshToken - Refresh token\n     * @returns {Promise<Object>} Nowy access token\n     */async refreshToken(refreshToken){const response=await authApi.post('/auth/refresh',{refreshToken});return response.data;},/**\n     * Żądanie resetowania hasła\n     * @param {string} email - Adres email\n     * @returns {Promise<void>}\n     */async resetPassword(email){await authApi.post('/auth/reset-password',{email});},/**\n     * Ustawienie nowego hasła\n     * @param {string} token - Token resetowania\n     * @param {string} newPassword - Nowe hasło\n     * @returns {Promise<void>}\n     */async setNewPassword(token,newPassword){await authApi.post('/auth/set-password',{token,newPassword});},/**\n     * Zmiana hasła zalogowanego użytkownika\n     * @param {string} currentPassword - Aktualne hasło\n     * @param {string} newPassword - Nowe hasło\n     * @returns {Promise<void>}\n     */async changePassword(currentPassword,newPassword){await authApi.post('/auth/change-password',{currentPassword,newPassword});},/**\n     * Aktualizacja profilu użytkownika\n     * @param {Object} updates - Dane do aktualizacji\n     * @returns {Promise<Object>} Zaktualizowane dane\n     */async updateProfile(updates){const response=await authApi.put('/auth/profile',updates);return response.data;},/**\n     * Potwierdzenie adresu email\n     * @param {string} token - Token potwierdzający\n     * @returns {Promise<void>}\n     */async confirmEmail(token){await authApi.post('/auth/confirm-email',{token});},/**\n     * Ponowne wysłanie emaila potwierdzającego\n     * @param {string} email - Adres email\n     * @returns {Promise<void>}\n     */async resendConfirmation(email){await authApi.post('/auth/resend-confirmation',{email});}};export default authService;","map":{"version":3,"names":["authApi","authService","login","email","password","role","response","post","data","register","userData","logout","refreshToken","localStorage","getItem","verifyToken","token","get","headers","Authorization","concat","user","resetPassword","setNewPassword","newPassword","changePassword","currentPassword","updateProfile","updates","put","confirmEmail","resendConfirmation"],"sources":["C:/Users/Viliam/Desktop/petcareapp-final/petcareapp/frontend/src/services/authService.js"],"sourcesContent":["/**\n * PetCareApp - Serwis autoryzacji\n * Obsługa logowania, rejestracji, tokenów\n * @author VS\n */\n\nimport { authApi } from './api';\n\n/**\n * Serwis autoryzacji - komunikacja z Authentication Service\n */\nexport const authService = {\n    /**\n     * Logowanie użytkownika\n     * @param {string} email - Adres email\n     * @param {string} password - Hasło\n     * @param {string} role - Rola użytkownika\n     * @returns {Promise<Object>} Dane użytkownika i tokeny\n     */\n    async login(email, password, role) {\n        const response = await authApi.post('/auth/login', {\n            email,\n            password,\n            role\n        });\n        return response.data;\n    },\n\n    /**\n     * Rejestracja nowego użytkownika (tylko klient)\n     * @param {Object} userData - Dane rejestracyjne\n     * @returns {Promise<Object>} Potwierdzenie rejestracji\n     */\n    async register(userData) {\n        const response = await authApi.post('/auth/register', userData);\n        return response.data;\n    },\n\n    /**\n     * Wylogowanie użytkownika\n     * @returns {Promise<void>}\n     */\n    async logout() {\n        const refreshToken = localStorage.getItem('refreshToken');\n        await authApi.post('/auth/logout', { refreshToken });\n    },\n\n    /**\n     * Weryfikacja tokena i pobranie danych użytkownika\n     * @param {string} token - Access token\n     * @returns {Promise<Object>} Dane użytkownika\n     */\n    async verifyToken(token) {\n        const response = await authApi.get('/auth/verify', {\n            headers: { Authorization: `Bearer ${token}` }\n        });\n        return response.data.user;\n    },\n\n    /**\n     * Odświeżenie tokena\n     * @param {string} refreshToken - Refresh token\n     * @returns {Promise<Object>} Nowy access token\n     */\n    async refreshToken(refreshToken) {\n        const response = await authApi.post('/auth/refresh', { refreshToken });\n        return response.data;\n    },\n\n    /**\n     * Żądanie resetowania hasła\n     * @param {string} email - Adres email\n     * @returns {Promise<void>}\n     */\n    async resetPassword(email) {\n        await authApi.post('/auth/reset-password', { email });\n    },\n\n    /**\n     * Ustawienie nowego hasła\n     * @param {string} token - Token resetowania\n     * @param {string} newPassword - Nowe hasło\n     * @returns {Promise<void>}\n     */\n    async setNewPassword(token, newPassword) {\n        await authApi.post('/auth/set-password', { token, newPassword });\n    },\n\n    /**\n     * Zmiana hasła zalogowanego użytkownika\n     * @param {string} currentPassword - Aktualne hasło\n     * @param {string} newPassword - Nowe hasło\n     * @returns {Promise<void>}\n     */\n    async changePassword(currentPassword, newPassword) {\n        await authApi.post('/auth/change-password', {\n            currentPassword,\n            newPassword\n        });\n    },\n\n    /**\n     * Aktualizacja profilu użytkownika\n     * @param {Object} updates - Dane do aktualizacji\n     * @returns {Promise<Object>} Zaktualizowane dane\n     */\n    async updateProfile(updates) {\n        const response = await authApi.put('/auth/profile', updates);\n        return response.data;\n    },\n\n    /**\n     * Potwierdzenie adresu email\n     * @param {string} token - Token potwierdzający\n     * @returns {Promise<void>}\n     */\n    async confirmEmail(token) {\n        await authApi.post('/auth/confirm-email', { token });\n    },\n\n    /**\n     * Ponowne wysłanie emaila potwierdzającego\n     * @param {string} email - Adres email\n     * @returns {Promise<void>}\n     */\n    async resendConfirmation(email) {\n        await authApi.post('/auth/resend-confirmation', { email });\n    }\n};\n\nexport default authService;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}